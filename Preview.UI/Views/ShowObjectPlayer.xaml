<hc:Window x:Class="Xylia.Preview.UI.Views.ShowObjectPlayer"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:converters="clr-namespace:Xylia.Preview.UI.Common.Converters"
		xmlns:avalonEdit="http://icsharpcode.net/sharpdevelop/avalonedit"
		xmlns:hc="https://handyorg.github.io/handycontrol"
        Title="{DynamicResource ShowObjectPlayer_Name}" Background="{DynamicResource BorderBrush}"
		Height="{Binding Source={x:Static SystemParameters.MaximizedPrimaryScreenHeight}, Converter={converters:RatioConverter}, ConverterParameter='0.50'}"
        Width="{Binding Source={x:Static SystemParameters.MaximizedPrimaryScreenWidth}, Converter={converters:RatioConverter}, ConverterParameter='0.48'}">
	<Grid>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="220" />
			<ColumnDefinition Width="*" />
		</Grid.ColumnDefinitions>
		
		<DockPanel>
			<hc:SearchBar DockPanel.Dock="Top" Margin="0 0 0 5" IsRealTime="True" SearchStarted="OnSearchStarted" Visibility="Collapsed" />
			<ListBox ItemsSource="{Binding EventKeys,IsAsync=True}" SelectedItem="{Binding SelectedKey}" SelectionChanged="OnSelectedItem" MouseDoubleClick="OnDoubleClick"
				DockPanel.Dock="Top" HorizontalContentAlignment="Stretch" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
				<ListBox.ContextMenu>
					<ContextMenu>
						
					</ContextMenu>
				</ListBox.ContextMenu>
				<ListBox.ItemTemplate>
					<DataTemplate>
						<Grid>
							<Grid.ColumnDefinitions>
								<ColumnDefinition Width="*" />
								<ColumnDefinition Width="Auto" />
							</Grid.ColumnDefinitions>

							<TextBlock Grid.Column="0" Text="{Binding Name}" ToolTip="{Binding Name}" TextTrimming="CharacterEllipsis" />
							<TextBlock Grid.Column="1" HorizontalAlignment="Right" Text="{Binding StartTime}" />
						</Grid>
					</DataTemplate>
				</ListBox.ItemTemplate>
			</ListBox>
		</DockPanel>
		<Grid Grid.Column="1">
			<avalonEdit:TextEditor Name="TextEditor" FontFamily="Consolas" FontSize="13" SyntaxHighlighting="Json" WordWrap="False" />

		</Grid>
	</Grid>
</hc:Window>
